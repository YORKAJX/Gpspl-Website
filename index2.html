<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover">
  <title>GPSPL | Global Peripheral Solution Pvt. Ltd.</title>

  <link rel="stylesheet" href="css/base.css"> 
  <link rel="stylesheet" href="css/layout.css">
  <link rel="stylesheet" href="css/components.css">
  <link rel="stylesheet" href="css/sections.css">
  <link rel="stylesheet" href="css/responsive.css"> 
</head>
<body>

  <div id="topbar-placeholder"></div>
  <div id="navbar-placeholder"></div>

  <main>
    <div id="hero-placeholder"></div>
    <div id="solutions-placeholder"></div>
    <div id="industries-placeholder"></div>
    <div id="partners-placeholder"></div>
    <div id="about-placeholder"></div>
    <div id="contact-placeholder"></div>
  </main>

  <div id="footer-placeholder"></div>

  <script>
    async function loadPartial(id, path) {
      try {
        const response = await fetch(path);
        if (!response.ok) throw new Error(`Could not load ${path}`);
        const text = await response.text();
        document.getElementById(id).innerHTML = text;
      } catch (err) {
        console.error("Error loading partial:", err);
      }
    }

    window.addEventListener('DOMContentLoaded', async () => {
      // Loading all files specifically from the 'partials' folder
      await Promise.all([
        loadPartial('topbar-placeholder', 'partials/topbar.html'),
        loadPartial('navbar-placeholder', 'partials/navbar.html'),
        loadPartial('hero-placeholder', 'partials/hero.html'),
        loadPartial('solutions-placeholder', 'partials/solutions.html'),
        loadPartial('industries-placeholder', 'partials/industries.html'),
        loadPartial('partners-placeholder', 'partials/partners.html'),
        loadPartial('about-placeholder', 'partials/about.html'),
        loadPartial('contact-placeholder', 'partials/contact.html'),
        loadPartial('footer-placeholder', 'partials/footer.html')
      ]);

      // Initialize your JS features after fragments are in the DOM
      if (typeof initNav === 'function') initNav();
      if (typeof initReveal === 'function') initReveal();
      if (typeof initCounters === 'function') initCounters();
      if (typeof initIndustries === 'function') initIndustries();
      
      // Update footer year
      const yearEl = document.getElementById('year');
      if (yearEl) yearEl.textContent = new Date().getFullYear();
    });
  </script>

  <script src="JS/nav.js"></script>
  <script src="JS/reveal.js"></script>
  <script src="JS/counters.js"></script>
  <script src="JS/industries.js"></script>
  <script src="JS/contact.js"></script> 
</body>
</html>